<?xml version="1.0" encoding="UTF-8"?>

<section xml:id="sec-consistency" xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>Consistent and Inconsistent Systems</title>
  <introduction>
    <p>
      We've learned how to take a linear system, turn it into an augmented matrix, and use Gauss-Jordan
      elimination to put the matrix into reduced row echelon form.  The primary reason for transforming
      a linear system into a matrix in reduced row echelon form is to see what the solution was 
      to the original linear system, and in all the examples we've done so far, there was exactly one solution.
    </p>
    <p> 
      In this section, we consider different possibilities for what the solutions to a linear system can be and
        see how we can identify those different possibilities from the reduced row echelon form that results
        after performing Gauss-Jordan elimination.  
    </p>
  </introduction>

  <subsection xml:id="subsec-consistency-bc">
    <title>Prepare</title>
    <subsubsection xml:id="subsubsec-typesofsolutions">
      <title>Types of solutions</title>
    <p>
    In <xref ref="ex-fruitpuzzle"/>, <xref ref="ex_sony_interview"/>, <xref ref="ex_by_hand"/>, <xref ref="ex_eq_mat"/>,
    and all of our other examples of linear systems, there was exactly one solution, that is, one possible assignment
    of values to the variables which made all of the equations in the system true at the same time.
  </p>
  <p>
    However, consider the following linear system with one equation:
    <me>
      x-y=0
    </me>.
    We can see this equation is true when <m>x=1</m> and <m>y=1</m>, or when 
    <m>x=-5</m> and <m>y=-5</m>, or when <m>x=\pi</m> and <m>y=\pi</m>.  In fact, as long as 
    <m>x=y</m> this equation is satisfied, and we can picture all of the possible solutions 
    by thinking of the graph of the equation <m>y=x</m>.
  </p>
  <sidebyside valign="middle">
    <p>
      <me>
        x-y=0
      </me>
    </p>
    <image width="40%">
      <shortdescription>Graph of the line y=x and three points on the line </shortdescription>
      <prefigure xmlns="https://prefigure.org" label="prefigure-graphofline">
        <xi:include href="prefigure/oneeqnline.xml" />
      </prefigure>       
    </image>
  </sidebyside>

  <p>
    Each single equation with two variables can be viewed in this way, as a line in the plane.
    Let's now consider systems of linear equations with two equations and two variables, 
    so that there are two lines in the plane.
  </p> 
  <sidebyside valign="middle">
    <p>
      <md>
      <mrow>x-y\amp =0</mrow>
      <mrow>x+y\amp =2</mrow>
    </md>
    </p>
    <image>
      <prefigure xmlns="https://prefigure.org" label="prefigure-graphofintersectinglines">
        <xi:include href="prefigure/twoeqns-intersectinglines.xml" />
      </prefigure>       
    </image>
  </sidebyside>
  <p>
    Since each equation can be viewed as a line in the coordinate plane,
    and since the slopes of the lines are different,
    we know the lines will intersect somewhere.  In this case, the point of intersection is
     <m>(1,1)</m>, that is, when <m>x=1</m> and <m>y=1</m>, and that is the only solution to 
     <md>
      <mrow>x-y\amp =0</mrow>
      <mrow>x+y\amp =2</mrow>
    </md>
    since it is the only place where the two lines intersect.
  </p>
  <p>
    Now consider the linear system
    <md>
      <mrow>x-y\amp =0</mrow>
      <mrow>2x-2y\amp =0</mrow>
    </md>.
  </p>
  <p>
    While this system has two equations, the second is a multiple of the first.
    Therefore, when we graph the two equations,
    we are graphing the same line twice;
    the thicker line is used to represent drawing the line twice.
    </p>

    <sidebyside valign="middle">
    <p>
      <md>
      <mrow>x-y\amp =0</mrow>
      <mrow>2x-2y\amp =0</mrow>
    </md>
    </p>
    <image>
    <prefigure xmlns="https://prefigure.org" label="prefigure-graphofsamelines">
      <xi:include href="prefigure/twoeqns-sameline.xml"/>
    </prefigure>       
  </image>
  </sidebyside>

    <p>
     In this case, we have an infinite solution set,
     just as if we only had the one equation <m>x-y=0</m>.
   </p>
  <!-- <figure xml:id="fig_visual_solution">
    <caption>The three possibilities for two linear equations with two unknowns.</caption>
    <sidebyside>
      <figure xml:id="fig-existence-intersecting-lines">
        <image source="sec_existence_intersecting-lines.svg" />
        <caption/>
      </figure>
      <figure xml:id="fig-existence-overlapping-lines">
        <image source="sec_existence_overlapping-lines.svg" />
        <caption/>
      </figure>
      <figure xml:id="fig-existence-parallel-lines">
        <image source="sec_existence_parallel-lines.svg" />
        <caption/>
      </figure>
 </sidebyside>
</figure> -->
  <p>
    Finally, consider the linear system
    <md>
      <mrow>x-y\amp =0</mrow>
      <mrow>x-y\amp =2</mrow>
    </md>.
  </p>
  <p>
    We should immediately spot a problem with this system;
    if the difference between <m>x</m> and <m>y</m> is <m>0</m>, how can it also be <m>2</m>? 
    This linear system has no solution. We see that the two lines are parallel and never intersect.
  </p>
  <sidebyside valign="middle">
    <p>
      <md>
      <mrow>x-y\amp =0</mrow>
      <mrow>x-y\amp =2</mrow>
    </md>
    </p>
    <image>
    <prefigure xmlns="https://prefigure.org" label="prefigure-graphofparallellines">
      <xi:include href="prefigure/twoeqns-parallellines.xml" />
    </prefigure>       
  </image>
  </sidebyside>
  <p>
    It becomes harder to visualize when we add variables, but
    no matter how many equations and variables we have,
    solutions to linear equations always come in one of three forms:
    exactly one solution, infinite solutions, or no solution.
    This is a fact that we will not prove here,
    but it deserves to be stated.
  </p>
  <theorem xml:id="thm_existence_uniqueness">
      <title>Solution Forms of Linear Systems</title>
      <idx><h>solution</h><h>types</h></idx>
        <idx><h>solution</h><h>unique</h></idx>
        <idx><h>solution</h><h>infinite</h></idx>
        <idx><h>solution</h><h>none</h></idx>
    <statement>
      <p>
        Every linear system of equations has exactly one solution,
        infinite solutions, or no solution.
      </p>
    </statement>
  </theorem>
  <p>
    Visually, we think of the three options below, even though linear systems often have more than
    two equations and more than two variables. 
  </p>
  <sidebyside>
    <image>
      <shortdescription>Two intersecting lines</shortdescription>
      <prefigure xmlns="https://prefigure.org" label="prefigure-graphofintersectinglines-2ndtime">
        <xi:include href="prefigure/twoeqns-intersectinglines.xml" />
      </prefigure>
    </image>
    <image>
      <shortdescription>Two lines that are the same line</shortdescription>
      <prefigure xmlns="https://prefigure.org" label="prefigure-graphofsamelines-2ndtime">
        <xi:include href="prefigure/twoeqns-sameline.xml" />
      </prefigure>
    </image>
    <image>
      <shortdescription>Two parallel lines</shortdescription>
      <prefigure xmlns="https://prefigure.org" label="prefigure-graphofparallellines-2ndtime">
        <xi:include href="prefigure/twoeqns-parallellines.xml" />
      </prefigure>
    </image>
  </sidebyside>
  </subsubsection>

  <subsubsection xml:id="subsubsec-consistent-or-inconsistent">
    <title>Consistent or Inconsistent</title>
  <p>
    We now distinguish between systems which have a solution (either one or infinitely many) 
    and those which have no solution.
  </p>
  <definition xml:id="def_consistent">
      <title>Consistency of Linear Systems</title>
      <idx><h>system of linear equations</h><h>consistent</h></idx>
        <idx><h>system of linear equations</h><h>inconsistent</h></idx>
        <idx><h>consistent</h></idx>
        <idx><h>inconsistent</h></idx>
    <statement>
      <p>
        A system of linear equations is
        <term>consistent</term> if it has at least one solution.
        A linear system is <term>inconsistent</term>
        if it does not have a solution.
      </p>
    </statement>
  </definition>
  <!-- could do an interactive here, but would have to make it 2 variables.  
  1 equation, 2 with 2 equations, 1 with 3 equations? Or show graphs? I think I like graphs better. -->
  <p>
    How can we tell what kind of solution a given system of linear equations has?
    The answer to this question lies with the reduced row echelon form of its 
    corresponding augmented matrix.
  </p>
  <remark><title>A note on using technology</title>
    <p>
    In the previous sections, we learned how to find the reduced row echelon form of a matrix using Gaussian elimination by hand.
    We need to know how to do this; understanding the process has benefits, and when we are learning a new
    technique or procedure, it's good to go through all the steps ourselves.  That's why we typically learn how to add
    numbers using manipulatives like blocks or crayons or fingers; once we understand the concept, 
    then we don't need to go through the steps of using aids anymore; in fact, we eventually add numbers we never could have
    represented with physical manipulatives. The focus shifted from the ability to add for its own sake to solving a problem
    which required addition as a step.
    </p>
    <p>
      In a similar way, once we understand the process of Gauss-Jordan elimination and are able to do it by hand for small systems, 
      we move to using technology to quickly obtain the reduced row echelon form of a matrix, because the focus is no longer on our ability
      to row reduce, but on answering a question which requires interpreting the result of row reducing.
    </p>
    </remark>
    <p>
      There is no shortage of apps, websites, and other software which can produce the reduced row echelon form
      of a matrix very quickly.  This book will use SageMath, a language built on Python and a free alternative
       to more widely known commercial software.  You can find a small blank workspace here: <url href="https://sagecell.sagemath.org/" />, 
       but you can also use the space below.  Hit the <q>Evaluate</q> button to see both the matrix and its reduced row echelon form.
  </p>
    <sage>
        <input>
            A=matrix(QQ,2,3,[[1,2,3],[4,5,6]])
            show(A)
            show(A.rref())
        </input>
    </sage>

  <p>
    The <q>QQ</q> in the Sage cell above is present for a technical reason, but the rest of syntax means
    that <m>A</m> is being defined as a <m>2\times 3</m> matrix, whose first row is <m>[1, 2, 3]</m> and
    whose second row is <m>[4,5,6]</m>. Note the extra set of square brackets around the two rows, and the 
    parentheses around everything that comes after the word <q>matrix</q>.
  </p>
  <p>
    Try modifying the contents of the above Sage cell to calculate the reduced row echelon form of a different matrix.
    Don't worry about messing anything up beyond repair; refreshing the page will reset the Sage cell back to its initial state.
  </p>
  <p>
    From now on, when we need the reduced row echelon form of a matrix in this text
    we will give the initial matrix and then immediately give the reduced row echelon form of the matrix.
  </p>

  <!-- <example xml:id="ex_ex_un_01">
      <title>Using RREF to analyze solutions; introducing free variables</title>
    <statement>
      <p>
        Find the solution to the linear system
        <me>
          \begin{array}{ccccc} x_1 \amp  +\amp  x_2 \amp  = \amp  1\\ 2x_1 \amp  + \amp  2x_2 \amp  = \amp 2 \end{array}
        </me>.
      </p>
    </statement>
    <solution>
      <p>
        Create the corresponding augmented matrix,
        and then put the matrix into reduced row echelon form.
        <me>
          \left[\begin{array}{ccc}  1\amp 1\amp 1\\2\amp 2\amp 2 \end{array} \right] \rrefarrow \left[\begin{array}{ccc}  1\amp 1\amp 1\\0\amp 0\amp 0 \end{array} \right]
        </me>
      </p>
      <p>
        Now convert the reduced matrix back into equations.
        In this case, we only have one equation,
        <me>
          x_1+x_2=1
        </me>
        or, equivalently,
        <md>
          <mrow>x_1 \amp =1-x_2</mrow>
          <mrow>x_2\amp \text{ is free } </mrow>
        </md>.
      </p>
      <p>
        We have just introduced a new term, the word <em>free</em>.
            <idx><h>free variable</h></idx>
            <idx><h>variable</h><h>free</h></idx>
        It is used to stress that idea that <m>x_2</m> can take on <em>any</em> value; we are
        <q>free</q>
        to choose any value for <m>x_2</m>.
        Once this value is chosen, the value of <m>x_1</m> is determined.
        Since we have infinite choices for the value of <m>x_2</m>,
        we therefore have infinite solutions to the linear system.
      </p>
      <p>
        For example, if we set <m>x_2 = 0</m>, then <m>x_1 = 1</m>;
        if we set <m>x_2 = 5</m>, then <m>x_1 = -4</m>.
      </p>
    </solution>
  </example> -->
  <p>
    Let's try an example.
  </p>
  <example xml:id="ex_ex_un_1">
      <title>A free variable example</title>
    <!-- <statement> -->
      <p>
        Find the solution to the linear system
        <me>
          \begin{array}{ccccccc} \amp  \amp x_2\amp -\amp x_3\amp =\amp 3\\ x_1\amp   \amp  \amp +\amp 2x_3\amp =\amp 2\\ \amp \amp -3x_2\amp +\amp 3x_3\amp =\amp -9 \end{array}
        </me>
      </p>
    <!-- </statement> -->
    <!-- <solution> -->
      <p>
        <em>Answer:</em> To find the solution,
        put the corresponding matrix into reduced row echelon form.
        <me>
          \left[\begin{array}{cccc}  0\amp 1\amp -1\amp 3\\ 1\amp 0\amp 2\amp 2\\ 0\amp -3\amp 3\amp -9 \end{array} \right] \rrefarrow \left[\begin{array}{cccc} 1\amp 0\amp 2\amp 2\\ 0\amp 1\amp -1\amp 3\\ 0\amp 0\amp 0\amp 0 \end{array} \right]
        </me>
      </p>
      <p>
        Now convert this reduced matrix back into equations.
        We have
        <md>
          <mrow>x_1 + 2x_3 \amp = 2</mrow>
          <mrow>x_2-x_3\amp =3</mrow>
        </md>
        or, equivalently,
        <md>
          <mrow>x_1 \amp = 2-2x_3</mrow>
          <mrow>x_2\amp =3+x_3</mrow>
          <mrow>x_3\amp \, \text{is free.}</mrow>
        </md>
      </p>
      <p>
        These two equations tell us that the values of <m>x_1</m> and <m>x_2</m> depend on what <m>x_3</m> is.
        There is no restriction on what <m>x_3</m> must be; it is
        <q>free</q>
        to take on the value of any real number.
        Once <m>x_3</m> is chosen, we have a solution.
        Since we have infinite choices for the value of <m>x_3</m>,
        we have infinite solutions.
      </p>
      <p>
        As examples, <m>x_1 = 2</m>, <m>x_2 = 3</m>,
        <m>x_3 = 0</m> is one solution;
        <m>x_1 = -2</m>, <m>x_2 = 5</m>,
        <m>x_3 = 2</m> is another solution. We call these examples, 
        and any other specific solution to a system with infinite solutions, <em>particular solutions</em>.
      </p>
    <!-- </solution> -->
  </example>
  <!-- could do some multiple choice or multiple select or card sort.  on the right has a linear system,
  on the left has options like consistent or inconsistent, one solution, infinitely many solutions, or no solutions. -->
  <p>
    In the previous example we used the word
    <q>free</q>
    to describe a certain variable.
    What exactly is a free variable?
    How do we recognize which variables are free and which are not?
  </p>
  <definition xml:id="def_free">
      <title>Dependent and Independent Variables</title>
    <statement>
      <p>
        Consider the reduced row echelon form of an augmented matrix of a consistent system of linear equations.
        Then:
      </p>
      <ul>
        <li>
          <p>
            a variable that corresponds to a leading <m>1</m> is a <term>dependent</term>,
            or <term>determined</term>, or <term>basic</term>
            variable, and <idx><h>variable</h><h>dependent</h></idx>
                <idx><h>variable</h><h>basic</h></idx>
                <idx><h>basic variable</h></idx>
          </p>
        </li>
        <li>
          <p>
            a variable that does not correspond to a leading <m>1</m> is a <term>free</term>,
            or <term>independent</term>,
            variable<idx><h>variable</h><h>independent</h></idx>
                <idx><h>variable</h><h>free</h></idx>.
                <idx><h>free variable</h></idx>
          </p>
        </li>
      </ul>
     </statement>
  </definition>
  <p>
    <em>Note:</em> <xref ref="def_free"/>
    applies only to <em>consistent</em> systems.
    If a system is <em>inconsistent</em>,
    then there is no solution and it's meaningless to talk about being free (or not) to pick
    values for the variables.
  </p>
  <p>
    These definitions help us understand when a consistent system of linear equations 
    will have infinite solutions.  If a consistent system has no free variables,
    then there is exactly one solution; inversely, if there are any free variables, then there are infinite solutions.
  </p>
  <!-- Move this assemblage to part of in-class? Making students fill in a table or something? -->
  <assemblage xml:id="idea_consistent">
      <title>Consistent Solution Types</title>
      <idx><h>system of linear equations</h><h>consistent</h></idx>
      <idx><h>leading one</h></idx>
      <idx><h>solution</h><h>infinite</h></idx>
    <p>
      A consistent linear system of equations will have exactly one solution if and only if there is a leading <m>1</m> for each variable in the system.
    </p>
    <p>
      If a consistent linear system of equations has a free variable,
      it has infinite solutions.
    </p>
    <p>
      If a consistent linear system has more variables than leading <m>1</m>'s,
      then the system will have infinite solutions.
    </p>
    <p>
      A consistent linear system with more variables than equations will always have infinite solutions.
    </p>
  </assemblage>
  
  <p>
    When a consistent system has only one solution, each equation that comes from the 
    reduced row echelon form of the corresponding augmented matrix will contain exactly 
    one variable.
    If the consistent system has infinite solutions, then there will be at least one equation coming from the reduced row echelon form that contains more than one variable.
    The first variable in that equation will be the dependent variable;
    all others will be free variables.
  </p>
  <!-- definitely do an interactive here.  unique or infinite solutions.  free vs basic, independent vs dependent -->
  <p>
    We have now seen examples of consistent systems with exactly one solution and others with infinite solutions.
    How can we recognize that a system is inconsistent?
  </p>
  <example xml:id="ex_ex_un_2">
      <title>An Inconsistent System</title>
    <!-- <statement> -->
      <p>
        Find the solution to the linear system
        <me>
          \begin{array}{ccccccc} x_1\amp +\amp x_2\amp +\amp x_3\amp =\amp 1\\ x_1\amp +\amp 2x_2\amp +\amp x_3\amp =\amp 2\\ 2x_1\amp +\amp 3x_2\amp +\amp 2x_3\amp =\amp 0 \end{array}
        </me>
      </p>
    <!-- </statement>
    <solution> -->
      <p>
        <em>Answer:</em> We start by putting the corresponding matrix into reduced row echelon form.
        <me>
          \left[\begin{array}{cccc}  1\amp 1\amp 1\amp 1\\1\amp 2\amp 1\amp 2\\ 2\amp 3\amp 2\amp 0\\ \end{array} \right] \rrefarrow \left[\begin{array}{cccc}  1\amp 0\amp 1\amp 0\\ 0\amp 1\amp 0\amp 0\\ 0\amp 0\amp 0\amp 1\\ \end{array} \right]
        </me>
      </p>
      <p>
        Now let us take the reduced matrix and write out the corresponding equations.
        The first two rows give us the equations
        <md>
          <mrow>x_1+x_3\amp =0</mrow>
          <mrow>x_2 \amp = 0</mrow>
        </md>.
      </p>
      <p>
        So far, so good.
        However the last row gives us the equation
        <me>
          0x_1+0x_2+0x_3 = 1
        </me>
        or, more concisely, <m>0=1</m>.
        Obviously, this is not true;
        we have reached a contradiction.
        Therefore, no solution exists, and 
        this system is inconsistent.
      </p>
    <!-- </solution> -->
  </example>
  <!-- <example xml:id="ex_ex_un_3">
      <title>An Inconsistent System</title>
    <statement>
      <p>
        Confirm that the linear system
        <me>
          \begin{array}{ccccc} x\amp +\amp y\amp =\amp 0 \\2x\amp +\amp 2y\amp =\amp 4 \end{array}
        </me>
        has no solution.
      </p>
    </statement>
    <solution>
      <p>
        We can verify that this system has no solution in two ways.
        First, let's just think about it.
        If <m>x+y=0</m>, then it stands to reason,
        by multiplying both sides of this equation by <m>2</m>, that <m>2x+2y = 0</m>.
        However, the second equation of our system says that <m>2x+2y= 4</m>.
        Since <m>0\neq 4</m>,
        we have a contradiction and hence our system has no solution.
        (We cannot possibly pick values for <m>x</m> and <m>y</m> so that <m>2x+2y</m> equals both <m>0</m> and <m>4</m>.)
      </p>
      <p>
        Now let us confirm this using the prescribed technique from above.
        The reduced row echelon form of the corresponding augmented matrix is
        <me>
          \left[\begin{array}{ccc}  1\amp 1\amp 0\\0\amp 0\amp 1\\ \end{array} \right]
        </me>.
        We have a leading <m>1</m> in the last column,
        so therefore the system is inconsistent.
      </p>
    </solution>
  </example> -->
  <p>
    The problem that occurred in <xref ref="ex_ex_un_2"/> was 
    because there was a row with a leading <m>1</m> in the last column.
  </p>
  <p>
    Let's summarize what we have learned up to this point.
  </p>
  <assemblage><title>Analyzing the solutions of a linear system</title>
    <p>
      Consider the reduced row echelon form of the augmented matrix of a system of linear equations.

    <ul>
      <li>
        <p>
          If there is a leading <m>1</m> in the last column, the system has no solution.
        </p>
      </li>
      <li>
        <p>
          Otherwise, if there is a leading <m>1</m> for each variable,
    then there is exactly one solution.
        </p>
      </li>
      <li>
        <p>
          Otherwise, there are infinite solutions because there are free variables.
        </p>
      </li>
    </ul>
    </p>
    </assemblage>
  </subsubsection>
  <subsubsection xml:id="subsubsec-infinitesolutions">
    <title>More on Infinite Solutions</title>
  <p>
    Systems with exactly one solution or no solution are the easiest to deal with;
    systems with infinite solutions are a bit harder, and we will often want to give one or two of the infinite possibilities.
  </p>
  <definition xml:id="def_particular">
      <title>Particular Solution</title>
      <idx><h>particular solution</h></idx>
      <idx><h>solution</h><h>particular</h></idx>
    <statement>
      <p>
        Consider a linear system of equations with infinite solutions.
        A <term>particular solution</term>
        is one solution.
      </p>
    </statement>
  </definition>
  <p>
    The easiest way to find a particular solution is to pick specific values for 
    the free variables which then determines the values of the dependent variables.
  </p>
  <example xml:id="ex_ex_un_4">
      <title>Infinite Solutions; Particular Solutions</title>
    <!-- <statement> -->
      <p>
        Give the solution to a linear system whose augmented matrix in reduced row echelon form is
        <me>
          \left[\begin{array}{ccccc}  1\amp -1\amp 0\amp 2\amp 4\\ 0\amp 0\amp 1\amp -3\amp 7\\ 0\amp 0\amp 0\amp 0\amp 0\\ \end{array} \right]
        </me>
        and give two particular solutions.
      </p>
    <!-- </statement>
    <solution> -->
      <p>
        <em>Answer:</em> We can essentially ignore the third row;
        it does not divulge any information about the solution.<fn>
        When this happens,
        it means that at least one equation was a combination of some of the others.
        </fn> The first and second rows can be rewritten as the following equations:
        <md>
          <mrow>x_1 - x_2 + 2x_4 \amp =4</mrow>
          <mrow>x_3 - 3x_4 \amp = 7</mrow>
        </md>.
      </p>
      <p>
        Notice how the variables <m>x_1</m> and <m>x_3</m> correspond to the leading <m>1</m>'s of the given matrix.
        Therefore <m>x_1</m> and <m>x_3</m> are dependent variables;
        all other variables, in this case <m>x_2</m> and <m>x_4</m>,
        are free variables.
      </p>
      <p>
        We generally write our solution with the dependent variables on the left and independent variables and constants on the right.
        It is also a good practice to acknowledge the fact that our free variables are,
        in fact, free.
        So all the solutions to the system would look something like
        <md>
          <mrow>x_1 \amp = 4 +x_2 - 2x_4</mrow>
          <mrow>x_2 \amp  \text{ is free }</mrow>
          <mrow>x_3 \amp = 7+3x_4</mrow>
          <mrow>x_4 \amp  \text{ is free } </mrow>
        </md>.
      </p>
      <p>
        To find particular solutions,
        choose any values you wish for the free variables.
      </p>
      <p>
        For example, by setting <m>x_2 = 0 = x_4</m>, we get:
        <md>
          <mrow>x_1 \amp = 4</mrow>
          <mrow>x_2 \amp =0</mrow>
          <mrow>x_3 \amp = 7</mrow>
          <mrow>x_4 \amp = 0</mrow>
        </md>.
        By setting <m>x_2 = 1</m> and <m>x_4 = -5</m>,
        we have the solution:
        <md>
          <mrow>x_1 \amp = 15</mrow>
          <mrow>x_2 \amp =1</mrow>
          <mrow>x_3 \amp = -8</mrow>
          <mrow>x_4 \amp = -5</mrow>
        </md>.
      </p>
    <!-- </solution> -->
  </example>
  <!-- <example xml:id="ex_ex_un_5">
      <title>Infinite Solutions; Column of Zeros</title>
    <statement>
      <p>
        Find the solution to a linear system whose augmented matrix in reduced row echelon form is
        <me>
          \left[\begin{array}{ccccc}  1\amp 0\amp 0\amp 2\amp 3\\0\amp 1\amp 0\amp 4\amp 5\\ \end{array} \right]
        </me>
        and give two particular solutions.
      </p>
    </statement>
    <solution>
      <p>
        Converting the two rows into equations we have
        <md>
          <mrow>x_1 + 2x_4 \amp = 3</mrow>
          <mrow>x_2 + 4x_4\amp =5</mrow>
        </md>.
      </p>
      <p>
        We see that <m>x_1</m> and <m>x_2</m> are our dependent variables,
        for they correspond to the leading 1s.
        Therefore, <m>x_3</m> and <m>x_4</m> are independent variables.
        This situation feels a little unusual,<fn xml:id="footnote_extra_zeros">
        What kind of situation would lead to a column of all zeros?
        To have such a column,
        the original matrix needed to have a column of all zeros,
        meaning that while we acknowledged the existence of a certain variable,
        we never actually used it in any equation.
        In practical terms,
        we could respond by removing the corresponding column from the matrix and just keep in mind that that variable is free.
        In very large systems,
        it might be hard to determine whether or not a variable is actually used and one would not worry about it.
        When we learn about eigenvectors and eigenvalues,
        we will see that under certain circumstances this situation arises.
        In those cases we leave the variable in the system just to remind ourselves that it is there.
        </fn> for <m>x_3</m> doesn't appear in any of the equations above,
        but cannot overlook it;
        it is still a free variable since there is not a leading <m>1</m> that corresponds to it.
        We write our solution as:
        <md>
          <mrow>x_1 \amp = 3-2x_4</mrow>
          <mrow>x_2 \amp =5-4x_4</mrow>
          <mrow>x_3 \amp  \text{ is free }</mrow>
          <mrow>x_4 \amp   \text{ is free } </mrow>
        </md>.
      </p>
      <p>
        To find two particular solutions,
        we pick values for our free variables.
        Again, there is no
        <q>right</q>
        way of doing this
        (in fact, there are <m>\ldots</m> infinite ways of doing this)
        so we give only an example here.
      </p>
      <sidebyside>
        One particular solution is:
        <md>
          <mrow>x_1 \amp = 3</mrow>
          <mrow>x_2 \amp =5</mrow>
          <mrow>x_3 \amp = 1000</mrow>
          <mrow>x_4 \amp = 0</mrow>
        </md>.
        Another particular solution is:
        <md>
          <mrow>x_1 \amp = 3-2\pi</mrow>
          <mrow>x_2 \amp =5-4\pi</mrow>
          <mrow>x_3 \amp = e^2</mrow>
          <mrow>x_4 \amp = \pi</mrow>
        </md>.
      </sidebyside>
      <p>
        (In the second particular solution we picked
        <q>unusual</q>
        values for <m>x_3</m> and <m>x_4</m> just to highlight the fact that we can.)
      </p>
    </solution>
  </example> -->
  <!-- <example xml:id="ex_ex_un_6">
      <title>Infinite Solutions; One Variable Constant</title>
    <statement>
      <p>
        Find the solution to the linear system
        <me>
          \begin{array}{ccccccc}x_1\amp +\amp x_2\amp +\amp x_3\amp =\amp 5\\x_1\amp -\amp x_2\amp +\amp x_3\amp =\amp 3 \end{array}
        </me>
        and give two particular solutions.
      </p>
    </statement>
    <solution>
      <p>
        The corresponding augmented matrix and its reduced row echelon form are given below
        <me>
          \left[\begin{array}{cccc} 1\amp 1\amp 1\amp 5\\1\amp -1\amp 1\amp 3\\ \end{array} \right] \rrefarrow \left[\begin{array}{cccc} 1\amp 0\amp 1\amp 4\\0\amp 1\amp 0\amp 1\\ \end{array} \right]
        </me>
      </p>
      <p>
        Converting these two rows into equations, we have
        <md>
          <mrow>x_1+x_3\amp =4</mrow>
          <mrow>x_2\amp =1</mrow>
        </md>
        giving us the solution
        <md>
          <mrow>x_1\amp = 4-x_3</mrow>
          <mrow>x_2\amp =1</mrow>
          <mrow>x_3 \amp \text{ is free } </mrow>
        </md>.
      </p>
      <p>
        Once again, we get a bit of an
        <q>unusual</q>
        solution; while <m>x_2</m> is a dependent variable,
        it does not depend on any free variable;
        instead, it is always <m>1</m>. (We can think of it as depending on the value of <m>1</m>.) By picking two values for <m>x_3</m>,
        we get two particular solutions.
      </p>
      <p>
        One particular solution is:
        <md>
          <mrow>x_1 \amp = 4</mrow>
          <mrow>x_2 \amp =1</mrow>
          <mrow>x_3 \amp = 0 </mrow>
        </md>.
        Another particular solution is:
        <md>
          <mrow>x_1 \amp = 3</mrow>
          <mrow>x_2 \amp =1</mrow>
          <mrow>x_3 \amp = 1 </mrow>
        </md>.
      </p>
    </solution>
  </example> -->
  </subsubsection>
  <conclusion xml:id="subsec-consistency-bc-summary">
    <p>
      The constants and coefficients of a matrix work together to determine whether a given system of linear equations has one,
    infinite,
    or no solution.
    The concept will be fleshed out more in later material,
    but in short,
    the coefficients determine whether a matrix will have exactly one solution or not.
    In the
    <q>or not</q>
    case, the constants determine whether or not infinite solutions or no solution exists.
    </p>
    <p>
    In this section, we have been solving systems for the sake of solving systems.
    In the next section, we'll look at situations (i.e.,
    <q>word problems</q>) which create linear systems that need to be solved. 
  </p>
  </conclusion>
  <!-- <example xml:id="ex_variable_k">
      <title>Analyzing the Effect of Different Coefficient Values on the Linear System</title>
    <statement>
      <p>
        For what values of <m>k</m> will the given system have exactly one solution,
        infinite solutions, or no solution?
        <me>
          \begin{array}{ccccc}x_1\amp +\amp 2x_2\amp =\amp 3\\ 3x_1\amp +\amp kx_2\amp =\amp 9 \end{array}
        </me>
      </p>
    </statement>
    <solution>
      <p>
        We answer this question by forming the augmented matrix and starting the process of putting it into reduced row echelon form.
        Below we see the augmented matrix and one elementary row operation that starts the Gaussian elimination process.
        <me>
          \left[\begin{array}{ccc}  1\amp 2\amp 3\\3\amp k\amp 9 \end{array} \right] \xrightarrow{-3R_1+R_2\rightarrow R_2} \left[\begin{array}{ccc}  1\amp 2\amp 3\\0\amp k-6\amp 0 \end{array} \right]
        </me>
      </p>
      <p>
        This is as far as we need to go.
        In looking at the second row,
        we see that if <m>k=6</m>,
        then that row contains only zeros and <m>x_2</m> is a free variable;
        we have infinite solutions.
        If <m>k\neq 6</m>,
        then our next step would be to make that second row,
        second column entry a leading one.
        We don't particularly care about the solution,
        only that we would have exactly one as both <m>x_1</m> and <m>x_2</m> would correspond to a leading one and hence be dependent variables.
      </p>
      <p>
        Our final analysis is then this.
        If <m>k\neq 6</m>, there is exactly one solution;
        if <m>k=6</m>, there are infinite solutions.
        In this example, it is not possible to have no solutions.
      </p>
    </solution>
  </example> -->
  <!-- <p>
    As an extension of the previous example,
    consider the similar augmented matrix where the constant <m>9</m> is replaced with a <m>10</m>. Performing the same elementary row operation gives
    <me>
      \left[\begin{array}{ccc}  1\amp 2\amp 3\\3\amp k\amp 10 \end{array} \right] \xrightarrow{-3R_1+R_2\rightarrow R_2} \left[\begin{array}{ccc}  1\amp 2\amp 3\\0\amp k-6\amp 1 \end{array} \right]
    </me>
  </p> -->
  <!-- <p>
    As in the previous example, if <m>k\neq6</m>, we can make the second row, second column entry a leading one and hence we have one solution. However, if <m>k=6</m>, then our last row is <m>\left[\begin{array}{ccc}0\amp 0\amp 1\end{array}\right]</m>, meaning we have no solution.
  </p> -->
  
      <!-- <exercise label="">
        <title>Row operations</title>
        <introduction>
          <p>
            In the following tasks, perform the row operations described on the given matrix.  
          </p>
        </introduction>
        <task label="row-ops-practice-a">
        <statement>
          <p>
            Consider the matrix 
            <me>\left[\begin{array}{cccc} 1\amp 1\amp -1\amp 2\\ 2\amp 1\amp 5\amp 7\\ 0\amp -5\amp -3\amp \frac{1}{2}\\ \end{array} \right]</me>.
            Which matrix is the result of multiplying Row 1 by <m>-2</m> and adding to Row 3?
          </p>
        </statement>
        <choices randomize="yes">
          <choice correct="no">
            <statement>
              <p>
                <m>\left[\begin{array}{cccc} -2\amp -2\amp 2\amp -4\\ 2\amp 1\amp 5\amp 7\\ 0\amp -5\amp -3\amp \frac{1}{2}\\ \end{array} \right]</m>
              </p>
            </statement>
            <feedback>
              <p>
                This multiplied Row 1 by <m>-2</m> and replaced Row 1.  It didn't do anything to Row 3.
              </p>
            </feedback>
          </choice>
          <choice correct="yes">
            <statement>
              <p>
                <m>\left[\begin{array}{cccc} 1\amp 1\amp -1\amp 2\\ 2\amp 1\amp 5\amp 7\\ -2\amp -7\amp -1\amp \frac{-7}{2}\\ \end{array} \right]</m> 
              </p>
            </statement>
            <feedback>
              <p>
                Correct! 
              </p>
            </feedback>
          </choice>
          <choice correct="no">
            <statement>
              <p>
                <m>\left[\begin{array}{cccc} -2\amp -2\amp 2\amp -4\\ 2\amp 1\amp 5\amp 7\\ -2\amp -7\amp -1\amp \frac{-7}{2}\\ \end{array} \right]</m> 
              </p>
            </statement>
            <feedback>
              <p>
                In the <q>multiply and add</q> row operation, you don't change the row you multiplied by a number; you only change the row you added to.
              </p>
            </feedback>
          </choice>
          <choice correct="no">
            <statement>
              <p>
                <m>\left[\begin{array}{cccc} 1\amp 1\amp -1\amp 2\\ 2\amp 1\amp 5\amp 7\\ -2\amp -5\amp -3 \amp \frac{1}{2}\\ \end{array} \right]</m>
              </p>
            </statement>
            <feedback>
              <p>
                We have to do the operation to the entire row, not just the first entry.  
              </p>
            </feedback>
          </choice>
        </choices>
      </task>
      <task label="row-ops-practice-b">
        <statement>
          <p>
            Consider the matrix 
            <me>\left[\begin{array}{cccc} 1\amp 1\amp -1\amp 2\\ 2\amp 1\amp 5\amp 7\\ 0\amp -5\amp -3\amp \frac{1}{2}\\ \end{array} \right]</me>.
            Which matrix is the result of multiplying Row 1 by <m>-2</m>?
          </p>
        </statement>
        <choices randomize="yes">
          <choice correct="yes">
            <statement>
              <p>
                <m>\left[\begin{array}{cccc} -2\amp -2\amp 2\amp -4\\ 2\amp 1\amp 5\amp 7\\ 0\amp -5\amp -3\amp \frac{1}{2}\\ \end{array} \right]</m>
              </p>
            </statement>
            <feedback>
              <p>
                Correct!
              </p>
            </feedback>
          </choice>
          <choice correct="no">
            <statement>
              <p>
                <m>\left[\begin{array}{cccc} -2\amp -2\amp 2\amp -4\\ 2\amp 1\amp 5\amp 7\\ 0\amp 10\amp 6\amp -1\\ \end{array} \right]</m>
              </p>
            </statement>
            <feedback>
              <p>
                This multiplied both Row 1 and Row 3 by <m>-2</m>.
              </p>
            </feedback>
          </choice>
          <choice correct="no">
            <statement>
              <p>
                <m>\left[\begin{array}{cccc} 1\amp 1\amp -1\amp 2\\ -2\amp -1\amp -5\amp -7\\ 0\amp -5\amp -3\amp \frac{1}{2}\\ \end{array} \right]</m>
              </p>
            </statement>
            <feedback>
              <p>
                This multiplied Row 2 by <m>-1</m>.
              </p>
            </feedback>
          </choice>
        </choices>
      </task>
      <task label="row-ops-practice-c">
        <statement>
          <p>
            Consider the matrix 
            <me>\left[\begin{array}{cccc} 1\amp 1\amp -1\amp 2\\ 2\amp 1\amp 5\amp 7\\ 0\amp -5\amp -3\amp \frac{1}{2}\\ \end{array} \right]</me>.
            Which matrix is the result of interchanging Row 2 and Row 3?
          </p>
        </statement>
        <choices randomize="yes">
          <choice correct="yes">
            <statement>
              <p>
                <m>\left[\begin{array}{cccc} 1\amp 1\amp -1\amp 2\\ 0\amp -5\amp -3\amp \frac{1}{2}\\ 2\amp 1\amp 5\amp 7\\ \end{array} \right]</m>
              </p>
            </statement>
            <feedback>
              <p>
                Correct!
              </p>
            </feedback>
          </choice>
          <choice correct="no">
            <statement>
              <p>
                <m>\left[\begin{array}{cccc} 2\amp 1\amp 5\amp 7\\ 1\amp 1\amp -1\amp 2\\ 0\amp -5\amp -3\amp \frac{1}{2}\\ \end{array} \right]</m>
              </p>
            </statement>
            <feedback>
              <p>
                This interchanged Row 1 and Row 2.
              </p>
            </feedback>
          </choice>
          <choice correct="no">
            <statement>
              <p>
                <m>\left[\begin{array}{cccc} 1\amp 1\amp -1\amp 2\\ 0\amp -5\amp -3\amp \frac{1}{2}\\ 0\amp -5\amp -3\amp \frac{1}{2}\\ \end{array} \right]</m>
              </p>
            </statement>
            <feedback>
              <p>
                This replaced Row 2 with a copy of Row 3, but didn't replace Row 3 with a copy of Row 2.
              </p>
            </feedback>
          </choice>
        </choices>
      </task>
      </exercise> -->
      
<reading-questions xml:id="rqs-consistency">


    <exercise label="rq-consistency-questions"><title>Reflection</title>
      <statement>
        <p>
          Enter a response to both of the following tasks:
          <ol>
            <li>
              <p>
                Ask a question about the material, either about something you're not sure you fully understand, 
          or a <q>what if</q> question.
              </p>
            </li>
            <li>
              <p>
                Give a percentage from 0 to 100 that reflects how confident you are with the material you 
                just read about, and give one sentence as to why you feel that way.  0 means you didn't 
                actually do the reading and 100 means that everything makes sense so far and you think you are 
                completely ready to engage with the material more deeply.  
              </p>
            </li>
          </ol>
        </p>
      </statement>
      <response />
    </exercise>
  </reading-questions>

  </subsection>

   <!-- <xi:include href="participate-worksheets/dc-.ptx" /> -->
  

    <conclusion xml:id="sec-consistency-summary">
      <title>Summary</title>
      <p>
        <ul>
          <li>
            <p>
                Every linear system has either no solutions, one solution, or infinitely many solutions. 
                We call a linear system which has at least one solution <em>consistent</em>, and we call
               a linear system with no solutions <em>inconsistent.</em>
            </p>
          </li>
          <li>
            <p>
               To analyze how many solutions a given linear system has, we examine the reduced row
               echelon form of the system's augmented matrix. We look for number and location of 
               leading <m>1</m>'s to see whether the system is inconsistent, or if it is consistent, to see which
               variables are <em>free</em> or <em>independent</em> and which variables are <em>basic</em> or <em>dependent</em>.
            </p>
          </li>
          <li>
            <p>
              If a linear system has infinitely many solutions, we can describe all the possible solutions
              in terms of the free variables, and we can also give <em>particular solutions</em>.
            </p>
          </li>
        </ul>
      </p>
    </conclusion>
  


    <!-- <xi:include href="interactive-exercises/ww-.ptx" /> -->

    <!-- <xi:include href="noninteractive-exercises/exer-consistency.ptx" /> -->

</section>